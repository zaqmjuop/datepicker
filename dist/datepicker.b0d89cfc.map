{"version":3,"sources":["index.js"],"names":["defaultMonths","getMonths","yearNumber","Number","isSafeInteger","TypeError","months","isLeapYear","getDaysCount","year","month","count","getWeekArray","date","Date","daysCount","getFullYear","getMonth","lastMonthDaysCount","start","getDate","getDay","week","i","dateNum","push","getMonthArray","array","thisWeek","pastDayNumber","pastDate","pastWeek","unshift","futureDayNumber","futureDate","futureWeek","initDatepicker","today","datepicker","document","querySelector","picker","innerText","addEventListener","input","daypicker","daypickerItems","querySelectorAll","forEach","item","day","value","log","console"],"mappings":"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","file":"datepicker.b0d89cfc.map","sourceRoot":"..","sourcesContent":["\nconst defaultMonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nconst getMonths = (yearNumber) => {\n  // 用一个数组表示某一年的12月每月有多少天\n  if (!Number.isSafeInteger(yearNumber)) throw new TypeError('param should be a year number, and type is integer');\n  const months = defaultMonths;\n  const isLeapYear = (yearNumber % 4 === 0);\n  if (isLeapYear) months[1] = 29;\n  return months;\n};\n\nconst getDaysCount = (year, month) => {\n  // 获得某一个月的天数\n  if (!Number.isSafeInteger(year)) throw new TypeError('param year should be a Integer of year');\n  if (!Number.isSafeInteger(month)) throw new TypeError('param month should be a Integer of month');\n  const months = getMonths(year);\n  const count = months[month];\n  return count;\n};\n\nconst getWeekArray = (date) => {\n  // 用数组形式表示一周，从周一开始 [30, 1, 2, 3, 4, 5, 6]\n  if (!(date instanceof Date)) throw new TypeError('param date should be a instance of Date');\n  const daysCount = getDaysCount(date.getFullYear(), date.getMonth());\n  const lastMonthDaysCount = getDaysCount(date.getFullYear(), (date.getMonth() - 1));\n  const start = (date.getDate() - date.getDay()) + 1;\n  const week = [];\n  for (let i = 0; i < 7; i += 1) {\n    let dateNum = start + i;\n    if (dateNum > daysCount) {\n      dateNum -= daysCount;\n    } else if (dateNum < 1) {\n      dateNum += lastMonthDaysCount;\n    }\n    week.push(dateNum);\n  }\n  return week;\n};\n\nconst getMonthArray = (date) => {\n  // 用数组形式表示一个月 [[30, 1, 2, 3, 4, 5, 6],[7,8,9,10,11,12,13], ...]\n  if (!(date instanceof Date)) throw new TypeError('param date should be a instance of Date');\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const daysCount = getDaysCount(year, month);\n  const array = [];\n  const thisWeek = getWeekArray(date);\n  array.push(thisWeek);\n  for (let i = 1; i < 6; i += 1) {\n    const pastDayNumber = date.getDate() - (i * 7);\n    if ((pastDayNumber > 0) && (pastDayNumber <= daysCount)) {\n      const pastDate = new Date(year, month, pastDayNumber);\n      const pastWeek = getWeekArray(pastDate);\n      array.unshift(pastWeek);\n    }\n    const futureDayNumber = date.getDate() + (i * 7);\n    if ((futureDayNumber > 0) && (futureDayNumber <= daysCount)) {\n      const futureDate = new Date(year, month, futureDayNumber);\n      const futureWeek = getWeekArray(futureDate);\n      array.push(futureWeek);\n    }\n  }\n  return array;\n};\n\nconst initDatepicker = () => {\n  const today = new Date();\n  const datepicker = document.querySelector('#datepicker');\n  const picker = document.querySelector('#picker');\n  const year = document.querySelector('#year');\n  const month = document.querySelector('#month');\n  year.innerText = today.getFullYear();\n  month.innerText = today.getMonth() + 1;\n};\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initDatepicker();\n  const today = new Date();\n  const input = document.querySelector('#input');\n  const datepicker = document.querySelector('#datepicker');\n  const picker = document.querySelector('#picker');\n  const year = document.querySelector('#year').innerText;\n  const month = document.querySelector('#month').innerText;\n  const daypicker = document.querySelector('#daypicker');\n  const daypickerItems = daypicker.querySelectorAll('td');\n  daypickerItems.forEach((item) => {\n    item.addEventListener('click', () => {\n      const day = item.innerText;\n      const value = `${year}-${month}-${day}`;\n      input.value = value;\n    });\n  });\n  const log = getMonthArray(new Date(2018, 4, 31));\n  console.log(log);\n});\n"]}